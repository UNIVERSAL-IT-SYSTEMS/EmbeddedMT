Import('env')

source_files = [
	'fasthessian.cpp',
	'integral.cpp',
	'ipoint.cpp',
	'surf.cpp',
	'utils.cpp'
]

header_files = [
	'fasthessian.h',
	'integral.h',
	'ipoint.h',
	'kmeans.h',
	'responselayer.h',
	'surf.h',
	'surflib.h',
	'utils.h'
]

env_opensurf = env.Clone()
env_opensurf['CPPFLAGS'].append(['-DLINUX'])

# Install lib
lib = env_opensurf.Library('openSURF', source_files)
installed_lib = env_opensurf.Install("{libs_dir}".format(libs_dir=env['LIBS_DIR']), lib)
env_opensurf.Alias('build3rdparty', installed_lib)

# Install header files
env_opensurf.Install('{includeDir}'.format(includeDir=env['THIRD_PARTY_DIR']), header_files)
